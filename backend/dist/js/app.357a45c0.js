(function(e){function t(t){for(var r,i,o=t[0],c=t[1],u=t[2],h=0,d=[];h<o.length;h++)i=o[h],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01af":function(e,t,n){"use strict";n("357d")},"02fd":function(e,t,n){},"034f":function(e,t,n){"use strict";n("85ec")},1084:function(e,t,n){"use strict";n("3873")},"133c":function(e,t,n){"use strict";n("205d")},"184b":function(e,t,n){},"205d":function(e,t,n){},2209:function(e,t,n){},"2d0e":function(e,t,n){"use strict";n("2209")},"2f4b":function(e,t,n){},"357d":function(e,t,n){},3873:function(e,t,n){},"432e":function(e,t,n){"use strict";n("2f4b")},"4dd0":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,a,s,i,o,c,u,l,h,d,m,p,f,b,v,g,j,O,y,w,C,k,_,T,x,$,R,P,N,U,E,D,A,S,M,I,L,H,J,F,W,z,q,B,G,K,Q,V,X,Y,Z,ee,te,ne,re,ae=n("2b0e"),se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"home-screen"}},[n("MainHeader"),n("router-view",{attrs:{id:"router-block"}})],1)])},ie=[],oe=n("d4ec"),ce=n("bee2"),ue=n("262e"),le=n("2caf"),he=n("1b40"),de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"main-header"}},[n("h1",{staticClass:"pointer logo",on:{click:function(t){return e.goToHome()}}},[e._v("ART FORUM")]),null!==this.$store.state.user.email?n("div",[n("span",{attrs:{id:"logout-button"}},[n("span",{on:{click:e.logout}},[e._v("Logout "+e._s(this.$store.state.user.name)+" ")]),"admin"===this.$store.state.user.userRole?n("span",{on:{click:function(t){return e.goToAdmin()}}},[e._v(" | Admin Powers")]):e._e()])]):n("div",[n("span",{attrs:{id:"login-button"},on:{click:e.login}},[e._v("Login |")]),n("span",{attrs:{id:"register-button"},on:{click:e.register}},[e._v("Register")])])])])},me=[],pe=(r=Object(he["a"])(),r(a=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){return Object(oe["a"])(this,n),t.apply(this,arguments)}return Object(ce["a"])(n,[{key:"goToHome",value:function(){"/"!==this.$route.path&&this.$router.push("/")}},{key:"goToAdmin",value:function(){"/admin"!==this.$route.path&&this.$router.push("/admin")}},{key:"login",value:function(){this.$router.push("/login")}},{key:"register",value:function(){this.$router.push("/register")}},{key:"logout",value:function(){this.$store.dispatch("logout"),"/"!==this.$route.path&&this.$router.push("/")}}]),n}(he["c"]))||a),fe=pe,be=(n("01af"),n("2877")),ve=Object(be["a"])(fe,de,me,!1,null,"b9901e0a",null),ge=ve.exports,je=(s=Object(he["a"])({components:{MainHeader:ge}}),s(i=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){return Object(oe["a"])(this,n),t.apply(this,arguments)}return Object(ce["a"])(n,[{key:"created",value:function(){this.$store.dispatch("fetchLoggedInUser")}}]),n}(he["c"]))||i),Oe=je,ye=(n("034f"),Object(be["a"])(Oe,se,ie,!1,null,null,null)),we=ye.exports,Ce=n("8c4f"),ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("p",{staticClass:"directory"},[e._v("All Discussions")]),e._l(e.forumTopics,(function(t,r){return n("div",{key:r,staticClass:"pointer",attrs:{id:"forum-topic"},on:{click:function(n){return e.goToSubForum(t)}}},[n("h3",[e._v(e._s(t))])])}))],2)},_e=[],Te=(o=Object(he["a"])(),o(c=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){return Object(oe["a"])(this,n),t.apply(this,arguments)}return Object(ce["a"])(n,[{key:"goToSubForum",value:function(e){this.$router.push("/".concat(e))}},{key:"forumTopics",get:function(){return this.$store.state.forumTopics}}]),n}(he["c"]))||c),xe=Te,$e=(n("2d0e"),Object(be["a"])(xe,ke,_e,!1,null,"dd86e77e",null)),Re=$e.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login"}},[n("form",{staticClass:"login-block",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("h3",[e._v("Login")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input-box",attrs:{type:"text",id:"email",name:"email",placeholder:"Enter Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input-box",attrs:{type:"text",id:"password",name:"password",placeholder:"Enter Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",{staticClass:"input-box",attrs:{id:"submit"}},[e._v("Login")])])])},Ne=[],Ue=(n("99af"),n("96cf"),n("1da1")),Ee=n("257e"),De=n("ade3"),Ae=(u=Object(he["a"])(),u((h=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){var e;Object(oe["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(De["a"])(Object(Ee["a"])(e),"email",""),Object(De["a"])(Object(Ee["a"])(e),"password",""),e}return Object(ce["a"])(n,[{key:"login",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:""!==this.token&&(t={email:this.email,password:this.password},this.$store.dispatch("login",t).then(this.redirect()));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"redirect",value:function(){this.$router.push("/")}}]),n}(he["c"]),l=h))||l),Se=Ae,Me=(n("b3bb"),Object(be["a"])(Se,Pe,Ne,!1,null,"5ad03152",null)),Ie=Me.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"directory"},[n("span",{staticClass:"pointer",on:{click:e.goToHome}},[e._v("All Discussions > ")]),e._v(" "+e._s(this.$route.path.substring(1))+" ")]),n("div",{attrs:{id:""}},e._l(e.threads,(function(e,t){return n("Thread",{key:t,staticClass:"pointer",attrs:{thread:e}})})),1),null!==this.$store.state.user.userRole?n("h4",{staticClass:"pointer create-new-thread-button",on:{click:e.toggleThreadCreation}},[e._v(" Create New Discussion ")]):e._e(),n("div",[e.isCreatingNewThread?n("CreateNewThread",{staticClass:"start-new-thread"}):e._e()],1)])},He=[],Je=(n("e439"),n("d3b7"),n("63ae")),Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:function(t){return e.goToThreadPage(e.thread.threadsId)}}},[n("div",{attrs:{id:"thread"}},[n("h4",{staticClass:"thread-title"},[e._v(" "+e._s(e.thread.title)+" "),n("span",{staticClass:"last-updated"},[e._v(e._s(e.calculateTimePast)+" "),e.thread.isClosed?n("font-awesome-icon",{attrs:{icon:["fas","lock"]}}):e._e()],1)]),n("h5",{staticClass:"thread-username"},[e._v(e._s(e.thread.name))])])])},We=[],ze=n("6b7b"),qe=(n("f890"),d=Object(he["a"])(),m=Object(he["b"])(),d((v=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){var e;Object(oe["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(ze["a"])(Object(Ee["a"])(e),"thread",b,Object(Ee["a"])(e)),e}return Object(ce["a"])(n,[{key:"goToThreadPage",value:function(e){this.$store.commit("setCurrentThread",this.$props.thread),this.$router.push("".concat(this.$router.currentRoute.path,"/").concat(e))}},{key:"calculateTimePast",get:function(){var e=new Date;e=e.getTime();var t=this.$props.thread.timeUpdated,n=e-t;n/=1e3;var r=Math.floor(n%60);n/=60;var a=Math.floor(n%60);n/=60;var s=Math.floor(n%24),i=Math.floor(n/24);return i>=1?i+" days ago":s<=23&&s>=1?s+" hours ago":a>=1?a+" minutes ago":r+" seconds ago"}}]),n}(he["c"]),f=v,b=Object(Je["a"])(f.prototype,"thread",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p),Be=qe,Ge=(n("432e"),Object(be["a"])(Be,Fe,We,!1,null,"3bb9896c",null)),Ke=Ge.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"create-new-thread"}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"title-input",attrs:{type:"text",required:"",placeholder:"Enter a title"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"content-input",attrs:{required:"",placeholder:"Say something"},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}}),e._v(" "),n("input",{staticClass:"submit-new-thread",attrs:{type:"submit",value:"Post New Discussion",click:e.submit}})])])},Ve=[],Xe=(g=Object(he["a"])(),g((O=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){var e;Object(oe["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(De["a"])(Object(Ee["a"])(e),"title",""),Object(De["a"])(Object(Ee["a"])(e),"content",""),e}return Object(ce["a"])(n,[{key:"submit",value:function(){var e=new Date,t=this.$route.path.substring(1),n={title:this.title,content:this.content,timeCreated:e.getTime(),timeUpdated:e.getTime(),subforum:t,userId:this.$store.state.user.id};this.createNewThread(n),this.$router.push("/")}},{key:"createNewThread",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/threads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(he["c"]),j=O))||j),Ye=Xe,Ze=(n("1084"),Object(be["a"])(Ye,Qe,Ve,!1,null,"22f71a30",null)),et=Ze.exports,tt=(y=Object(he["a"])({components:{Thread:Ke,CreateNewThread:et}}),w=Object(he["d"])("threads"),y((_=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){var e;Object(oe["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(De["a"])(Object(Ee["a"])(e),"isCreatingNewThread",e.$store.state.isCreatingNewThread),Object(De["a"])(Object(Ee["a"])(e),"threads",null),e}return Object(ce["a"])(n,[{key:"onChange",value:function(e){this.threads=e}},{key:"goToHome",value:function(){this.$router.push("/")}},{key:"toggleThreadCreation",value:function(){this.isCreatingNewThread=!this.isCreatingNewThread}},{key:"updateThreads",value:function(e){this.threads=e}},{key:"fetchThreads",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/threads/specific/".concat(this.$route.path.substring(1)));case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,this.updateThreads(t);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){this.fetchThreads()}}]),n}(he["c"]),k=_,Object(Je["a"])(k.prototype,"onChange",[w],Object.getOwnPropertyDescriptor(k.prototype,"onChange"),k.prototype),C=k))||C),nt=tt,rt=(n("c553"),Object(be["a"])(nt,Le,He,!1,null,"0fbb0f18",null)),at=rt.exports,st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"thread-page"}},[n("p",{staticClass:"directory"},[n("span",{staticClass:"pointer",on:{click:e.goToHome}},[e._v("All Discussions > ")]),n("span",{staticClass:"pointer",on:{click:e.goToCategory}},[e._v(" "+e._s(e.currentCategory)+" > ")]),n("b",[e._v(e._s(this.currentThread.title))])]),n("div",{staticClass:"current-thread shadow"},[n("div",{staticClass:"comment-header"},[n("font-awesome-icon",{attrs:{icon:["fas","user-secret"]}}),n("span",{staticClass:"comment-user"},[e._v(e._s(this.currentThread.name))]),n("span",{staticClass:"user-role"},[e._v(" ( "+e._s(this.currentThread.userRole)+" ) ")]),n("span",{staticClass:"comment-date"},[e._v(" "+e._s(e.calculateTimePast))]),e.hasPermission?n("span",[e.isThreadClosed?e._e():n("font-awesome-icon",{staticClass:"close-thread pointer",attrs:{icon:["fas","times"]},on:{click:e.closeThread}})],1):e._e(),e.isThreadClosed?n("font-awesome-icon",{staticClass:"close-thread",attrs:{icon:["fas","lock"]}}):e._e()],1),n("h2",{staticClass:"thread-title"},[e._v(e._s(e.currentThread.title))]),n("p",{staticClass:"thread-desc"},[e._v(e._s(e.currentThread.content))])]),n("div",[n("div",{staticClass:"comments-bar"},[n("p",[e._v(" "+e._s(null!==this.comments&&0!==this.comments.length?"Comments":"Be the first to comment!")+" ")])]),e._l(e.comments,(function(t,r){return n("Comment",{key:r,attrs:{comment:t,isLocked:e.isThreadClosed}})}))],2),e.isThreadClosed||null===e.userRole?e._e():n("div",[n("h4",{staticClass:"pointer create-new-comment-button",on:{click:e.toggleCommentCreation}},[e._v(" Add a reply ")])]),n("div",[e.isCreatingNewComment?n("CreateNewComment"):e._e()],1)])},it=[],ot=(n("a4d3"),n("e01a"),n("caad"),n("ac1f"),n("2532"),n("1276"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"shadow warning":e.comment.isWarning,shadow:!e.comment.isWarning},attrs:{id:"comment"}},[n("div",{staticClass:"comment-header"},[n("font-awesome-icon",{attrs:{icon:["fas","user-secret"]}}),n("span",{staticClass:"comment-user"},[e._v(e._s(e.comment.name)+" "),n("span",{staticClass:"user-role"},[e._v("| "+e._s(e.comment.userRole)+" ")])]),n("span",{staticClass:"comment-date"},[e._v(e._s(e.calculateTimePast))]),e.hasPermission?n("span",[e.isLocked?e._e():n("font-awesome-icon",{staticClass:"delete-comment pointer",attrs:{icon:["fas","times"]},on:{click:function(t){return e.deleteThisComment(e.comment.commentsId)}}})],1):e._e(),n("p",{staticClass:"comment-content"},[e._v(e._s(e.comment.content))])],1)])}),ct=[],ut=(T=Object(he["a"])(),x=Object(he["b"])(),$=Object(he["b"])(),T((E=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){var e;Object(oe["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(ze["a"])(Object(Ee["a"])(e),"comment",N,Object(Ee["a"])(e)),Object(ze["a"])(Object(Ee["a"])(e),"isLocked",U,Object(Ee["a"])(e)),Object(De["a"])(Object(Ee["a"])(e),"hasPermission",!1),Object(De["a"])(Object(Ee["a"])(e),"userRole",e.$store.state.user.userRole),Object(De["a"])(Object(Ee["a"])(e),"userDescription",e.$store.state.user.description),Object(De["a"])(Object(Ee["a"])(e),"currentCategory",e.$route.path.substring(1).split("/")[0]),e}return Object(ce["a"])(n,[{key:"checkPermissions",value:function(){"moderator"===this.userRole&&this.userDescription.includes(this.currentCategory)||"admin"===this.userRole?this.hasPermission=!0:this.hasPermission=!1}},{key:"deleteThisComment",value:function(e){this.deleteComment(e),this.$router.push("/".concat(this.currentCategory))}},{key:"deleteComment",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch("/api/comments/".concat(t),{method:"DELETE"});case 3:return n=e.sent,e.next=6,n.json();case 6:n=e.sent,console.log(n);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){this.checkPermissions()}},{key:"calculateTimePast",get:function(){var e=new Date;e=e.getTime();var t=this.$props.comment.date,n=e-t;n/=1e3;var r=Math.floor(n%60);n/=60;var a=Math.floor(n%60);n/=60;var s=Math.floor(n%24),i=Math.floor(n/24);return i>=1?i+" days ago":s<=23&&s>=1?s+" hours ago":a>=1?a+" minutes ago":r+" seconds ago"}}]),n}(he["c"]),P=E,N=Object(Je["a"])(P.prototype,"comment",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=Object(Je["a"])(P.prototype,"isLocked",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=P))||R),lt=ut,ht=(n("9573"),Object(be["a"])(lt,ot,ct,!1,null,"7fda3d48",null)),dt=ht.exports,mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"create-new-comment"}},[n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"content-input",attrs:{required:"",placeholder:"Say something"},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}}),e._v(" "),n("input",{staticClass:"submit-new-comment",attrs:{type:"submit",value:"Post Comment"},on:{click:e.submit}}),e.hasPermission?n("input",{staticClass:"submit-new-warning",attrs:{type:"submit",value:"Post as a Warning"},on:{click:e.submitWarning}}):e._e()])])},pt=[],ft=(D=Object(he["a"])(),D((S=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){var e;Object(oe["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(De["a"])(Object(Ee["a"])(e),"content",""),Object(De["a"])(Object(Ee["a"])(e),"userRole",e.$store.state.user.userRole),Object(De["a"])(Object(Ee["a"])(e),"userDescription",e.$store.state.user.description),Object(De["a"])(Object(Ee["a"])(e),"currentCategory",e.$route.path.substring(1).split("/")[0]),Object(De["a"])(Object(Ee["a"])(e),"hasPermission",!1),e}return Object(ce["a"])(n,[{key:"checkPermissions",value:function(){"moderator"===this.userRole&&this.userDescription.includes(this.currentCategory)||"admin"===this.$store.state.user.userRole?this.hasPermission=!0:this.hasPermission=!1}},{key:"submit",value:function(){var e=new Date,t=this.$route.path.substring(1).split("/")[1],n={content:this.content,date:e.getTime(),threadId:t,userId:this.$store.state.user.id,isWarning:0};this.createNewComment(n),this.updateThread(t,n.date),this.$router.push("/".concat(this.currentCategory))}},{key:"submitWarning",value:function(){var e=new Date,t=this.$route.path.substring(1).split("/")[1],n={content:this.content,date:e.getTime(),threadId:t,userId:this.$store.state.user.id};this.createNewComment(n),this.updateThread(t,n.date),this.$router.push("/".concat(this.currentCategory))}},{key:"createNewComment",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateThread",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={timeUpdated:n},e.next=3,fetch("/api/threads/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:return a=e.sent,e.next=6,a.json();case 6:a=e.sent,console.log(a);case 8:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){this.checkPermissions()}}]),n}(he["c"]),A=S))||A),bt=ft,vt=(n("fb5d"),Object(be["a"])(bt,mt,pt,!1,null,"08e3b188",null)),gt=vt.exports,jt=(M=Object(he["a"])({components:{Comment:dt,CreateNewComment:gt}}),M((J=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){var e;Object(oe["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(ze["a"])(Object(Ee["a"])(e),"thread",H,Object(Ee["a"])(e)),Object(De["a"])(Object(Ee["a"])(e),"comments",null),Object(De["a"])(Object(Ee["a"])(e),"isThreadClosed",!1),Object(De["a"])(Object(Ee["a"])(e),"hasPermission",!1),Object(De["a"])(Object(Ee["a"])(e),"currentThread",{}),Object(De["a"])(Object(Ee["a"])(e),"userRole",e.$store.state.user.userRole),Object(De["a"])(Object(Ee["a"])(e),"userDescription",e.$store.state.user.description),Object(De["a"])(Object(Ee["a"])(e),"currentCategory",e.$route.path.substring(1).split("/")[0]),Object(De["a"])(Object(Ee["a"])(e),"currentThreadId",e.$route.path.substring(1).split("/")[1]),Object(De["a"])(Object(Ee["a"])(e),"isCreatingNewComment",!1),e}return Object(ce["a"])(n,[{key:"checkPermissions",value:function(){"moderator"===this.userRole&&this.userDescription.includes(this.currentCategory)||"admin"===this.$store.state.user.userRole?this.hasPermission=!0:this.hasPermission=!1}},{key:"goToHome",value:function(){this.$router.push("/")}},{key:"goToCategory",value:function(){this.$router.push("/".concat(this.currentCategory))}},{key:"toggleCommentCreation",value:function(){this.isCreatingNewComment=!this.isCreatingNewComment}},{key:"closeThread",value:function(){var e={isClosed:1};this.closeThreadOnDb(e),this.isCreatingNewComment=!1,this.isThreadClosed=!0}},{key:"closeThreadOnDb",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/threads/".concat(this.currentThread.threadsId),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateThread",value:function(e){this.currentThread=e,this.isThreadClosed=this.currentThread.isClosed}},{key:"updateComments",value:function(e){this.comments=e}},{key:"fetchThread",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/threads/".concat(this.currentThreadId));case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,this.updateThread(t);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchComments",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/comments/specific/".concat(this.currentThreadId));case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,this.updateComments(t);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){this.fetchThread(),this.fetchComments(),this.checkPermissions()}},{key:"calculateTimePast",get:function(){var e=new Date;e=e.getTime();var t=this.currentThread.timeCreated,n=e-t;n/=1e3;var r=Math.floor(n%60);n/=60;var a=Math.floor(n%60);n/=60;var s=Math.floor(n%24),i=Math.floor(n/24);return i>=1?i+" days ago":s<=23&&s>=1?s+" hours ago":a>=1?a+" minutes ago":r+" seconds ago"}}]),n}(he["c"]),L=J,H=Object(Je["a"])(L.prototype,"thread",[he["b"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=L))||I),Ot=jt,yt=(n("133c"),Object(be["a"])(Ot,st,it,!1,null,"6821e24c",null)),wt=yt.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"admin"===this.$store.state.user.userRole?n("div",{attrs:{id:"admin-page"}},[n("h1",{staticClass:"welcome-text"},[e._v("Admin Power Page")]),n("div",{attrs:{id:""}},e._l(e.users,(function(e,t){return n("UpdateUser",{key:t,staticClass:"pointer",attrs:{user:e}})})),1)]):n("div",{staticClass:"welcome-text"},[e._v("NO ACCESS.")])},kt=[],_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"shadow",attrs:{id:"user"},on:{click:e.editUser}},[n("font-awesome-icon",{attrs:{icon:["fas","user-secret"]}}),n("span",{staticClass:"username"},[e._v(e._s(e.user.name))]),n("span",{staticClass:"userrole"},[e._v(e._s(e.user.userRole))]),n("span",{staticClass:"userdesc"},[e._v(" | "+e._s(e.user.description))]),n("span",{staticClass:"delete-user"},[n("font-awesome-icon",{staticClass:"edit-user pointer",attrs:{icon:["fas","edit"]},on:{click:e.editUser}}),n("font-awesome-icon",{staticClass:"pointer",attrs:{icon:["fas","times"]},on:{click:function(t){return e.deleteThisUser(e.user.id)}}})],1)],1),e.isEditingUser?n("div",{attrs:{id:"edit-user-block"}},[n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.newRole,expression:"newRole"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.newRole=t.target.multiple?n:n[0]}}},e._l(e.roles,(function(t,r){return n("option",{key:r,domProps:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),0),"moderator"===this.newRole?n("span",e._l(e.subforums,(function(t,r){return n("span",{key:r,staticClass:"checkboxes"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"subforum.checked"}],attrs:{type:"checkbox","true-value":t.text,"false-value":0},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:e._q(t.checked,t.text)},on:{change:function(n){var r=t.checked,a=n.target,s=a.checked?t.text:0;if(Array.isArray(r)){var i=null,o=e._i(r,i);a.checked?o<0&&e.$set(t,"checked",r.concat([i])):o>-1&&e.$set(t,"checked",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(t,"checked",s)}}}),e._v(" "+e._s(t.text)+" ")])})),0):e._e(),n("input",{staticClass:"submit-edited-user",attrs:{type:"submit",value:"Save User Changes"},on:{click:e.submit}})])]):e._e()])},Tt=[],xt=(n("4160"),n("159b"),F=Object(he["a"])(),W=Object(he["b"])(),F((G=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){var e;Object(oe["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(ze["a"])(Object(Ee["a"])(e),"user",B,Object(Ee["a"])(e)),Object(De["a"])(Object(Ee["a"])(e),"isEditingUser",!1),Object(De["a"])(Object(Ee["a"])(e),"roles",e.$store.state.roles),Object(De["a"])(Object(Ee["a"])(e),"subforums",[{text:"Traditional Art",checked:""},{text:"Digital Art",checked:""},{text:"Photography",checked:""}]),Object(De["a"])(Object(Ee["a"])(e),"newRole",""),Object(De["a"])(Object(Ee["a"])(e),"newDescription",""),e}return Object(ce["a"])(n,[{key:"editUser",value:function(){this.isEditingUser=!this.isEditingUser}},{key:"submit",value:function(){var e=this;this.subforums.forEach((function(t){e.newDescription=e.newDescription+t.checked+" "}));var t={userRole:this.newRole,description:this.newDescription};this.editUserInDb(t),this.$router.push("/")}},{key:"editUserInDb",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/".concat(this.$props.user.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteThisUser",value:function(e){this.deleteUser(e),this.$router.push("/".concat(this.currentCategory))}},{key:"deleteUser",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/".concat(t),{method:"DELETE"});case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(he["c"]),q=G,B=Object(Je["a"])(q.prototype,"user",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=q))||z),$t=xt,Rt=(n("6d73"),Object(be["a"])($t,_t,Tt,!1,null,"0b0dd1c0",null)),Pt=Rt.exports,Nt=(K=Object(he["a"])({components:{UpdateUser:Pt}}),Q=Object(he["d"])("users"),K((Y=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){var e;Object(oe["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(De["a"])(Object(Ee["a"])(e),"isEditingUser",!1),Object(De["a"])(Object(Ee["a"])(e),"users",null),e}return Object(ce["a"])(n,[{key:"onChange",value:function(e){this.users=e}},{key:"toggleUserEditingField",value:function(){this.isEditingUser=!this.isEditingUser}},{key:"updateUsers",value:function(e){this.users=e}},{key:"fetchUsers",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,this.updateUsers(t);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){this.fetchUsers()}}]),n}(he["c"]),X=Y,Object(Je["a"])(X.prototype,"onChange",[Q],Object.getOwnPropertyDescriptor(X.prototype,"onChange"),X.prototype),V=X))||V),Ut=Nt,Et=(n("d844"),Object(be["a"])(Ut,Ct,kt,!1,null,"2e28e3eb",null)),Dt=Et.exports,At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"register"}},[n("form",{staticClass:"register-block",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("h3",[e._v("Register")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"register-box",attrs:{type:"text",id:"name",name:"name",placeholder:"Enter First Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"register-box",attrs:{type:"text",id:"email",name:"email",placeholder:"Enter Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"register-box",attrs:{type:"text",id:"password",name:"password",placeholder:"Enter Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",{staticClass:"register-box",attrs:{id:"submit"}},[e._v("Register")])])])},St=[],Mt=(n("b0c0"),Z=Object(he["a"])(),Z((te=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){var e;Object(oe["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(De["a"])(Object(Ee["a"])(e),"name",""),Object(De["a"])(Object(Ee["a"])(e),"email",""),Object(De["a"])(Object(Ee["a"])(e),"password",""),e}return Object(ce["a"])(n,[{key:"submit",value:function(){var e={name:this.name,email:this.email,password:this.password,userRole:"basicUser"};this.createNewUser(e),this.$router.push("/")}},{key:"createNewUser",value:function(){var e=Object(Ue["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(he["c"]),ee=te))||ee),It=Mt,Lt=(n("6963"),Object(be["a"])(It,At,St,!1,null,"cbcfd7d2",null)),Ht=Lt.exports,Jt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ft=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("h3",[e._v("PAGE NOT FOUND")])])}],Wt=(ne=Object(he["a"])(),ne(re=function(e){Object(ue["a"])(n,e);var t=Object(le["a"])(n);function n(){return Object(oe["a"])(this,n),t.apply(this,arguments)}return n}(he["c"]))||re),zt=Wt,qt=(n("7278"),Object(be["a"])(zt,Jt,Ft,!1,null,"1d99f60a",null)),Bt=qt.exports;ae["a"].use(Ce["a"]);var Gt=[{path:"/",name:"Home",component:Re},{path:"/login",name:"Login",component:Ie},{path:"/register",name:"Register",component:Ht},{path:"/admin",name:"AdminPage",component:Dt},{path:"/:subforum",name:"SubForum",component:at},{path:"/:subforum/:id",name:"ThreadPage",component:wt},{path:"*",name:"PageNotFound",component:Bt}],Kt=new Ce["a"]({mode:"history",base:"/",routes:Gt}),Qt=Kt,Vt=n("2f62");ae["a"].use(Vt["a"]);var Xt=new Vt["a"].Store({state:{user:{name:null,email:null,userRole:null},forumTopics:["Traditional Art","Digital Art","Photography"],roles:[{text:"Admin",value:"admin"},{text:"Moderator",value:"moderator"},{text:"Basic User",value:"basicUser"}],isCreatingNewThread:!1,isCreatingNewComment:!1,currentThread:{}},mutations:{setUser:function(e,t){e.user=t},setCurrentThread:function(e,t){e.currentThread=t},setIsCreatingNewThread:function(e,t){e.isCreatingNewThread=t},setIsCreatingNewComment:function(e,t){e.isCreatingNewComment=t}},actions:{fetchLoggedInUser:function(e){return Object(Ue["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,fetch("/api/login");case 3:return r=t.sent,t.next=6,r.json();case 6:r=t.sent,r&&n("setUser",r);case 8:case"end":return t.stop()}}),t)})))()},login:function(e,t,n){return Object(Ue["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,r.next=3,fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})});case 3:return s=r.sent,r.next=6,s.json();case 6:s=r.sent,s?a("setUser",s):console.log("Login failed.");case 8:case"end":return r.stop()}}),r)})))()},logout:function(e){return Object(Ue["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,n("setUser",{name:null,email:null,userRole:null});case 2:case"end":return t.stop()}}),t)})))()}},modules:{}}),Yt=n("ecee"),Zt=n("c074"),en=n("ad3d");n("4dd0");Yt["c"].add(Zt["d"],Zt["c"],Zt["b"],Zt["a"]),ae["a"].component("font-awesome-icon",en["a"]),ae["a"].config.productionTip=!1,new ae["a"]({router:Qt,store:Xt,render:function(e){return e(we)}}).$mount("#app")},"62bc":function(e,t,n){},6963:function(e,t,n){"use strict";n("02fd")},"6d73":function(e,t,n){"use strict";n("62bc")},7278:function(e,t,n){"use strict";n("fd18")},"85ec":function(e,t,n){},"8a6a":function(e,t,n){},9573:function(e,t,n){"use strict";n("d8a1")},9739:function(e,t,n){},"9c65":function(e,t,n){},b3bb:function(e,t,n){"use strict";n("184b")},c553:function(e,t,n){"use strict";n("9c65")},d844:function(e,t,n){"use strict";n("9739")},d8a1:function(e,t,n){},fb5d:function(e,t,n){"use strict";n("8a6a")},fd18:function(e,t,n){}});
//# sourceMappingURL=app.357a45c0.js.map